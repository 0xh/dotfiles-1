#!/usr/bin/env zsh
################################################################################
#    Author: Wenxuan Zhang                                                     #
#     Email: wenxuangm@gmail.com                                               #
#   Created: 2020-01-03 16:33                                                  #
################################################################################
# zmodload zsh/zprof
loginfo()  { printf "%b[info]%b %s\n"  '\e[0;32m\033[1m' '\e[0m' "$@" >&2; }
logwarn()  { printf "%b[warn]%b %s\n"  '\e[0;33m\033[1m' '\e[0m' "$@" >&2; }
logerror() { printf "%b[error]%b %s\n" '\e[0;31m\033[1m' '\e[0m' "$@" >&2; }

bindkey -e # This line should be on top

source ~/.zsh_env

[ -f ~/.fzf.zsh       ] && source ~/.fzf.zsh
[ -f ~/.zsh_fzf_extra ] && source ~/.zsh_fzf_extra
[ -f ~/.zsh_local     ] && source ~/.zsh_local
[ -f ~/.zsh_secret    ] && {
    source ~/.zsh_secret 2>/dev/null || logwarn "source ~/.zsh_secret failed(file maybe locked)."
}

source ~/.zsh_plug
source ~/.zsh_keybinds
source ~/.zsh_misc
source ~/.zsh_aliases
source ~/.zsh_custom

[ -f ~/.zsh_theme ] && source ~/.zsh_theme

[ -f ~/.travis/travis.sh ] && source ~/.travis/travis.sh

# Theme
(( $+commands[starship] )) && source <(starship init zsh)

return 0
