" vim: filetype=vim

" Share clipboard with OS
set clipboard+=unnamed

" Set n lines to the cursor - when moving vertically using j/k
set scrolloff=5

" Use spaces instead of tabs
set expandtab
" Set tab width to 4 spaces
set tabstop=4
set shiftwidth=4

" Highlight current line
set cursorline

" Ignore case when searching
set ignorecase

" When searching try to be smart about cases
set smartcase

" No fold when vim start up
set nofoldenable

" Set fold method
set foldmethod=indent
set foldlevel=0

" Show whitespace
set list listchars=tab:»·,trail:·

" With a map leader it's possible to do extra key combinations
let mapleader = ","
let g:mapleader = ","
noremap \ ,

" Lock up history commands quickly
cnoremap <C-p> <Up>
cnoremap <C-n> <Down>

" Using <SPACE> to fold or unfold
nnoremap <leader><SPACE> @=((foldclosed(line('.')) < 0) ? 'zc' : 'zo')<CR>

" Disable highlight when <leader><cr> is pressed
nnoremap <silent> <leader><cr> :noh<cr>

" These create newlines like o and O but stay in normal mode
nnoremap <silent> zj o<Esc>k
nnoremap <silent> zk O<Esc>j
nnoremap <silent> zl i <Esc>l
inoremap <silent> <leader>i <Home>
inoremap <silent> <leader>a <End>
inoremap <silent> <leader>, <End>,
inoremap <silent> <leader>; <End>;<Esc>
inoremap <silent> <leader>{ <End> {<CR>}<C-o>O
inoremap <silent> <leader>. ->
inoremap <silent> <leader>o <C-o>o
inoremap <silent> <leader>O <C-o>O

" Make j/k/0/$ work as expected on the wrap lines
noremap  <buffer> <silent> k gk
noremap  <buffer> <silent> j gj
noremap  <buffer> <silent> gk k
noremap  <buffer> <silent> gj j
noremap  <buffer> <silent> 0 g0
noremap  <buffer> <silent> $ g$

" Close window
noremap <leader>q :q<cr>
noremap <leader>Q :q!<cr>
noremap <C-c> :q<cr>
" Save write
noremap <leader>w :w<cr>
noremap <leader>W :w!<cr>
noremap <C-s> :w<cr>
" Save and quit
noremap <leader>x :x<cr>
noremap <C-x> :x<cr>
noremap <leader>X :x!<cr>

" Save and suspend
noremap <leader>bg :w<cr><C-z>

" Remove the Windows ^M - when the encodings gets messed up
noremap <leader>M mmHmt:%s/<C-v><CR>//ge<CR>'tzt'm

" Yank & paste
noremap <leader>y "+y
noremap <leader>Y "+Y

noremap <leader>P "+P
" Select pasted text
noremap vp `[v`]

noremap H gg
noremap L G

" Emacs style key mapping
inoremap <C-a> <Home>
inoremap <C-e> <End>
inoremap <C-h> <BS>
inoremap <C-d> <Del>
inoremap <C-f> <Right>
inoremap <C-b> <Left>
inoremap <C-n> <Down>
inoremap <C-p> <Up>
"inoremap <C-m> <CR>
" In insert mode, pressing Ctrl-O switches to normal mode for one command, then switches back to insert mode when the command is finished.
inoremap <C-k> <C-o>D
inoremap <C-u> <C-o>d0
inoremap <C-y> <C-o>"+p
